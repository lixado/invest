(function(){"use strict";function g(t,e,o){return e+(o-e)*t}function m(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function x(t,e,o,r,i,M,c,f,h){let u=g(t/o,f[0],f[1]),l=g(e/r,h[0],h[1]),n=[u,l],s=0;for(;s<M;){let b=n[0]*n[0]-n[1]*n[1],d=2*n[0]*n[1];if(n[0]=b+i[0],n[1]=d+i[1],m(n)>c)return s;s+=1}return s}function _(t){t=Math.max(0,Math.min(1,t));const e=Math.floor(255*Math.sin(t*Math.PI)),o=Math.floor(255*Math.sin(t*Math.PI*2)),r=Math.floor(255*Math.sin(t*Math.PI*4));return[e,o,r]}self.onmessage=t=>{const{start_buffer_index:e,end_buffer_index:o,width:r,height:i,c:M,max_iterations:c,escape_radius:f,x_limits:h,y_limits:u}=t.data;var l=new Uint32Array(o-e);for(let n=e;n<o;n++){const s=n%r,b=Math.floor(n/r),p=x(s,b,r,i,M,c,f,h,u)/c,a=_(p),I=a[0]===0&&a[1]===0&&a[2]===0?255<<24|36<<16|9216|36:255<<24|a[2]<<16|a[1]<<8|a[0];l[n-e]=I}self.postMessage({start_buffer_index:e,resultArr:l})}})();
