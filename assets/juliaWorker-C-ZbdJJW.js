(function(){"use strict";function g(t,e,o){return e+(o-e)*t}function m(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function x(t,e,o,r,a,l,i,c,f){let M=g(t/o,c[0],c[1]),h=g(e/r,f[0],f[1]),n=[M,h],s=0;for(;s<l;){let u=n[0]*n[0]-n[1]*n[1],d=2*n[0]*n[1];if(n[0]=u+a[0],n[1]=d+a[1],m(n)>i)return s;s+=1}return s}function _(t){t=Math.max(0,Math.min(1,t));const e=Math.floor(255*Math.sin(t*Math.PI)),o=Math.floor(255*Math.sin(t*Math.PI*2)),r=Math.floor(255*Math.sin(t*Math.PI*4));return[e,o,r]}self.onmessage=t=>{const{start_buffer_index:e,end_buffer_index:o,width:r,height:a,c:l,max_iterations:i,escape_radius:c,x_limits:f,y_limits:M}=t.data;var h=new Uint32Array(o-e);for(let n=e;n<o;n++){const s=n%r,u=Math.floor(n/r),p=x(s,u,r,a,l,i,c,f,M)/i,b=_(p),I=255<<24|b[2]<<16|b[1]<<8|b[0];h[n-e]=I}self.postMessage({start_buffer_index:e,resultArr:h})}})();
